<% popover_side = local_assigns[:side].presence || "bottom" %>
<% popover_align = local_assigns[:align].presence || "center" %>

<div data-controller="ui--popover" class="<%= local_assigns[:class] %>">
  <div class="popover-trigger" data-ui--popover-target="trigger" data-action="click->ui--popover#toggle">
    <%= content_for(:popover_trigger) %>
  </div>

  <div class="popover-wrapper" data-ui--popover-target="wrapper">
    <div
      data-side="<%= popover_side %>"
      data-ui--popover-target="content"
      data-align="<%= popover_align %>"
      data-state="closed"
      role="dialog"
      class="<%= tw("hidden z-50 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none #{content_for(:popover_content_class)}") %>"
      tabindex="-1">
      <%= content_for(:popover_content) %>
    </div>
  </div>
</div>
